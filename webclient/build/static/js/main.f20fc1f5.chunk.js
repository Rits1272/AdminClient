(this.webpackJsonpwebclient=this.webpackJsonpwebclient||[]).push([[0],{645:function(e,t){},647:function(e,t){},657:function(e,t){},659:function(e,t){},686:function(e,t){},687:function(e,t){},692:function(e,t){},694:function(e,t){},701:function(e,t){},720:function(e,t){},738:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(19),c=a.n(r),s=a(21),o=a(794),l=a(783),d=a(818),j=a(787),u=a(795),b=a(815),h=a(69),m=a(781),O=a(788),g=a(27),p=a(28),x=a(6),f=a(785),y=a(786),v=a(1),w=Object(m.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(p.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),background:"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)",width:"100%"},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),height:"100%"},drawerPaperClose:Object(g.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},e.breakpoints.up("sm"),{width:"0px"}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100%",overflow:"auto"}}}));function S(){var e=w();return Object(v.jsxs)("div",{className:e.root,children:[Object(v.jsx)(l.a,{}),Object(v.jsx)(f.a,{position:"absolute",className:Object(x.a)(e.appBar),children:Object(v.jsx)(y.a,{className:e.toolbar,children:Object(v.jsx)(h.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:e.title,children:"Gatisheel"})})})]})}var C=a.p+"static/media/CharacterTwo.a3ef5572.png",k=a(817),N=a(30),R=a(31),A=a(190);a(442),a(444);A.a.apps.length||A.a.initializeApp({apiKey:"AIzaSyDQqFbrbonDDrRIQyOTbWFErt5ozAvVDJw",authDomain:"hirmi-393b4.firebaseapp.com",databaseURL:"https://hirmi-393b4-default-rtdb.firebaseio.com",projectId:"hirmi-393b4",storageBucket:"hirmi-393b4.appspot.com",messagingSenderId:"803621817497",appId:"1:803621817497:web:391de0f53bcc0b2699bc08",measurementId:"G-6E1PY0G76T"});var E=A.a,D=a(177),T=a.n(D),I="GET_EMPLOYEES",W="LOGIN_REQUEST",L="LOGIN_SUCCESS",P="LOGIN_FAILURE",z="RESET_PASSWORD",B="INITIATE_LOGOUT",_="GET_ROLE",F="ADD_ROLE",M="ADD_DRAWING",q="DAILY_REPORT",G="GET_INSPECTOR",Y=function(e){return{type:_,role:e}},Q=function(){return{type:B}},J=function(e,t){return function(a){a({type:W}),E.auth().signInWithEmailAndPassword(e,t).then((function(e){a(function(e){return{type:L,user:e}}(e))})),a({type:P})}},U=function(e){return function(t){E.auth().sendPasswordResetEmail(e).then(t({type:z}))}},Z=a(399);function H(){return Object(v.jsxs)(h.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(v.jsx)(j.a,{href:"/privacy",color:"inherit",children:"Gatisheel"})," ",(new Date).getFullYear(),"."]})}var V=Object(m.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2),padding:7,fontSize:17},errorMsg:{color:"red",fontSize:"14px",marginTop:"20px"}}}));var $=Object(R.b)((function(e){return{isLogginIn:e.loginReducer.isLogginIn,loginError:e.loginReducer.loginError,isAuthenticated:e.loginReducer.isAuthenticated,role:e.loginReducer.role,loading:e.loginReducer.isLogginIn}}))((function(e){var t=V(),a=Object(n.useState)(),i=Object(s.a)(a,2),r=i[0],c=i[1],m=Object(n.useState)(),g=Object(s.a)(m,2),p=g[0],x=g[1],f=Object(n.useState)(""),y=Object(s.a)(f,2),w=y[0],R=y[1],A=e.loginError,D=e.isAuthenticated,T=e.dispatch,I=e.role,W=e.loading,L=function(e,t){e.preventDefault(),"email"===t?c(e.target.value):"password"===t&&x(e.target.value)};return D&&""!==I?Object(v.jsx)(N.a,{to:"/"}):(D&&T(function(e){return function(t){var a=E.database().ref();a.child("power_user").on("value",(function(a){var n=a.val();Object.keys(n).map((function(a){n[a].reg_id===e&&t(Y("power user"))}))})),a.child("admin").on("value",(function(a){var n=a.val();Object.keys(n).map((function(a){n[a].reg_id===e&&t(Y("admin"))}))})),a.child("monitor").on("value",(function(a){var n=a.val();Object.keys(n).map((function(a){n[a].reg_id===e&&t(Y("monitor"))}))}))}}(r)),Object(v.jsxs)("div",{style:{display:"flex"},children:[Object(v.jsx)(S,{}),Object(v.jsxs)(O.a,{component:"main",maxWidth:"xs",children:[Object(v.jsx)(l.a,{}),Object(v.jsxs)("div",{className:t.paper,children:[Object(v.jsx)("img",{src:C}),Object(v.jsx)(h.a,{component:"h1",variant:"h5",children:"Sign in"}),""!==w&&Object(v.jsx)(k.a,{style:{marginTop:20},severity:"error",children:w}),Object(v.jsxs)("form",{className:t.form,children:[Object(v.jsx)(d.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:function(e){return L(e,"email")}}),Object(v.jsx)(d.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return L(e,"password")}}),Object(v.jsx)(o.a,{type:"submit",fullWidth:!0,variant:"contained",color:"secondary",className:t.submit,onClick:function(e){return function(e){e.preventDefault(),T(J(r,p)),setTimeout((function(){A&&R("Incorrect email or password")}),1e3)}(e)},children:"Sign In"}),Object(v.jsx)(u.a,{container:!0,children:Object(v.jsx)(u.a,{item:!0,children:Object(v.jsx)(j.a,{href:"/reset",variant:"body2",color:"secondary",children:"Reset Password?"})})})]}),W&&Object(v.jsx)(Z.a,{color:"secondary"})]}),Object(v.jsx)(b.a,{mt:8,children:Object(v.jsx)(H,{})})]})]}))})),K=a.p+"static/media/characterFive.f1970cd8.png";function X(){return Object(v.jsxs)(h.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(v.jsx)(j.a,{to:"/privacy",target:"_blank",color:"inherit",href:"https://material-ui.com/",children:"Gatisheel"})," ",(new Date).getFullYear(),"."]})}var ee=Object(m.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2),padding:7,fontSize:17},Msg:{color:"#ff0000",fontSize:"14px",marginTop:"20px"}}}));var te=Object(R.b)((function(e){return{linkSent:e.loginReducer.linkSent}}))((function(e){var t=ee(),a=Object(n.useState)(),i=Object(s.a)(a,2),r=i[0],c=i[1],m=Object(n.useState)(""),g=Object(s.a)(m,2),p=g[0],x=g[1],f=Object(n.useState)(""),y=Object(s.a)(f,2),w=y[0],C=y[1],N=e.linkSent,R=e.dispatch;return Object(v.jsxs)("div",{style:{display:"flex"},children:[Object(v.jsx)(S,{}),Object(v.jsxs)(O.a,{component:"main",maxWidth:"xs",children:[Object(v.jsx)(l.a,{}),Object(v.jsxs)("div",{className:t.paper,children:[Object(v.jsx)("img",{src:K}),Object(v.jsx)(h.a,{component:"h1",variant:"h5",children:"Reset Password"}),""!==p&&Object(v.jsx)(k.a,{style:{marginTop:20},severity:w,children:p}),Object(v.jsxs)("form",{className:t.form,noValidate:!0,children:[Object(v.jsx)(d.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:function(e){return function(e,t){e.preventDefault(),"email"===t&&c(e.target.value)}(e,"email")}}),Object(v.jsx)(o.a,{type:"submit",fullWidth:!0,variant:"contained",color:"secondary",className:t.submit,onClick:function(e){return function(e){if(e.preventDefault(),!function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}(r))return x("Please enter valid email address!"),void C("error");R(U(r)),N?(x("Reset Password link sent to your email"),C("success")):(x("Please enter valid email address!"),C("error"))}(e)},children:"Reset"}),Object(v.jsx)(u.a,{container:!0,children:Object(v.jsx)(u.a,{item:!0,children:Object(v.jsx)(j.a,{href:"/login",variant:"body2",color:"secondary",children:"Login?"})})})]})]}),Object(v.jsx)(b.a,{mt:8,children:Object(v.jsx)(X,{})})]})]})})),ae=a(800),ne=a(804),ie=a(803),re=a(799),ce=a(801),se=a(802),oe=a(278),le=a(55),de=a(821),je=a(793),ue=a(797),be=a(789),he=a(400),me=a.n(he),Oe=a(401),ge=a.n(Oe),pe=a(402),xe=a.n(pe),fe=a(741),ye=a(798),ve=a(796),we=a(404),Se=a.n(we),Ce=a(403),ke=a.n(Ce),Ne=a(191),Re=a.n(Ne),Ae=a(275),Ee=a.n(Ae),De=a(274),Te=a.n(De),Ie=a(142),We=a.n(Ie),Le=a(273),Pe=a.n(Le),ze=240,Be=Object(m.a)((function(e){return{root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),background:"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)"},appBarShift:{width:"calc(100% - ".concat(ze,"px)"),marginLeft:ze,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:ze,flexShrink:0},drawerPaper:{width:ze},drawerHeader:Object(p.a)(Object(p.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0}}}));var _e=Object(R.b)((function(e){return{email:e.loginReducer.user.user.email,role:e.loginReducer.role,logoutSuccess:e.loginReducer.logoutSuccess}}))((function(e){var t=Be(),a=Object(le.a)(),n=i.a.useState(!0),r=Object(s.a)(n,2),c=r[0],o=r[1],d=Object(N.g)(),j=e.email,u=e.role,b=e.dispatch,m=function(e){var t="/"+e;d.push(t)},O=function(e){b(Q())};return Object(v.jsxs)("div",{className:t.root,children:[Object(v.jsx)(l.a,{}),Object(v.jsx)(f.a,{position:"fixed",className:Object(x.a)(t.appBar,Object(g.a)({},t.appBarShift,c)),children:Object(v.jsxs)(y.a,{children:[Object(v.jsx)(be.a,{color:"inherit","aria-label":"open drawer",onClick:function(){o(!0)},edge:"start",className:Object(x.a)(t.menuButton,c&&t.hide),children:Object(v.jsx)(me.a,{})}),Object(v.jsx)(h.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,style:{flex:1},children:"Gatisheel"}),Object(v.jsxs)(h.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,children:["Welcome ",j]})]})}),Object(v.jsxs)(de.a,{className:t.drawer,variant:"persistent",anchor:"left",open:c,classes:{paper:t.drawerPaper},children:[Object(v.jsxs)("div",{className:t.drawerHeader,children:[Object(v.jsx)(fe.a,{style:{textAlign:"center"},button:!0,children:Object(v.jsx)(ve.a,{primary:u})}),Object(v.jsx)(be.a,{onClick:function(){o(!1)},children:"ltr"===a.direction?Object(v.jsx)(ge.a,{}):Object(v.jsx)(xe.a,{})})]}),Object(v.jsx)(ue.a,{}),"admin"===u&&Object(v.jsxs)(je.a,{children:[Object(v.jsxs)(fe.a,{button:!0,children:[Object(v.jsx)(ye.a,{children:Object(v.jsx)(Pe.a,{color:"secondary"})}),Object(v.jsx)(ve.a,{onClick:function(){return m("home")},primary:"Daily Report"})]},"Daily Report"),Object(v.jsxs)(fe.a,{button:!0,children:[Object(v.jsx)(ye.a,{children:Object(v.jsx)(ke.a,{color:"secondary"})}),Object(v.jsx)(ve.a,{onClick:function(){return m("register")},primary:"Add New Roles"})]},"Add New Roles"),Object(v.jsxs)(fe.a,{button:!0,children:[Object(v.jsx)(ye.a,{children:Object(v.jsx)(Se.a,{color:"secondary"})}),Object(v.jsx)(ve.a,{onClick:function(){return m("AddDrawing")},primary:"Add Drawings"})]},"Add Drawings"),Object(v.jsxs)(fe.a,{button:!0,children:[Object(v.jsx)(ye.a,{children:Object(v.jsx)(Te.a,{color:"secondary"})}),Object(v.jsx)(ve.a,{onClick:function(){return m("report")},primary:"Monthly Report"})]},"Monthly Report"),Object(v.jsxs)(fe.a,{button:!0,children:[Object(v.jsx)(ye.a,{children:Object(v.jsx)(Ee.a,{color:"secondary"})}),Object(v.jsx)(ve.a,{onClick:function(){return m("inventory")},primary:"Inventory"})]},"Inventory"),Object(v.jsxs)(fe.a,{button:!0,children:[Object(v.jsx)(ye.a,{children:Object(v.jsx)(Re.a,{color:"secondary"})}),Object(v.jsx)(ve.a,{onClick:function(){return m("employees")},primary:"Employees"})]},"Employees"),Object(v.jsx)(ue.a,{}),Object(v.jsxs)(fe.a,{button:!0,children:[Object(v.jsx)(ye.a,{children:Object(v.jsx)(We.a,{color:"secondary"})}),Object(v.jsx)(ve.a,{onClick:O,primary:"Logout"})]},"Logout")]}),"monitor"===u&&Object(v.jsxs)(je.a,{children:[Object(v.jsxs)(fe.a,{button:!0,children:[Object(v.jsx)(ye.a,{children:Object(v.jsx)(Pe.a,{color:"secondary"})}),Object(v.jsx)(ve.a,{onClick:function(){return m("home")},primary:"Daily Report"})]},"Daily Report"),Object(v.jsxs)(fe.a,{button:!0,children:[Object(v.jsx)(ye.a,{children:Object(v.jsx)(Te.a,{color:"secondary"})}),Object(v.jsx)(ve.a,{onClick:function(){return m("report")},primary:"Monthly Report"})]},"Monthly Report"),Object(v.jsxs)(fe.a,{button:!0,children:[Object(v.jsx)(ye.a,{children:Object(v.jsx)(Re.a,{color:"secondary"})}),Object(v.jsx)(ve.a,{onClick:function(){return m("employees")},primary:"Employees"})]},"Employees"),Object(v.jsx)(ue.a,{}),Object(v.jsxs)(fe.a,{button:!0,children:[Object(v.jsx)(ye.a,{children:Object(v.jsx)(We.a,{color:"secondary"})}),Object(v.jsx)(ve.a,{onClick:O,primary:"Logout"})]},"Logout")]}),"power user"===u&&Object(v.jsxs)(je.a,{children:[Object(v.jsxs)(fe.a,{button:!0,children:[Object(v.jsx)(ye.a,{children:Object(v.jsx)(Ee.a,{color:"secondary"})}),Object(v.jsx)(ve.a,{onClick:function(){return m("inventory")},primary:"Inventory"})]},"Inventory"),Object(v.jsxs)(fe.a,{button:!0,children:[Object(v.jsx)(ye.a,{children:Object(v.jsx)(Re.a,{color:"secondary"})}),Object(v.jsx)(ve.a,{onClick:function(){return m("employees")},primary:"Employees"})]},"Employees"),Object(v.jsx)(ue.a,{}),Object(v.jsxs)(fe.a,{button:!0,children:[Object(v.jsx)(ye.a,{children:Object(v.jsx)(We.a,{color:"secondary"})}),Object(v.jsx)(ve.a,{onClick:O,primary:"Logout"})]},"Logout")]}),""===u&&Object(v.jsxs)(fe.a,{button:!0,children:[Object(v.jsx)(ye.a,{children:Object(v.jsx)(We.a,{color:"secondary"})}),Object(v.jsx)(ve.a,{onClick:O,primary:"Logout"})]},"Logout")]})]})})),Fe=a(820),Me=a(186),qe=a.n(Me),Ge=a(187),Ye=a.n(Ge),Qe=a(405),Je=a.n(Qe),Ue=a(183),Ze=a.n(Ue),He=a(181),Ve=a.n(He),$e=a(182),Ke=a.n($e),Xe=a(185),et=a.n(Xe),tt=a(184),at=a.n(tt),nt=a.p+"static/media/landscape.81bf7a19.png",it=function(e){return function(t){var a=[],n=E.database().ref(),i=new Date,r=String(i.getMonth()+1),c=i.getFullYear(),s=n.child("report/".concat(c,"/").concat(r));try{s.once("value",(function(t){var n=t.val();null!==n&&Object.keys(n).map((function(t){var i=n[t];i.date===e&&a.push({date:i.date,inspector:i.inspector,drawing:i.drawing,quantity:i.quantity,status:i.status})}))})).then((function(){return t(function(e){return{type:q,payload:e}}(a))}))}catch(o){console.log("Unable to get daily report")}}},rt=function(){var e=new Date,t=e.getDate(),a=e.getMonth()+1,n=e.getFullYear();return a<=9&&(a="0"+a),t<=9&&(t="0"+t),"".concat(t,"-").concat(a,"-").concat(n)},ct=Object(m.a)({table:{minWidth:650},data:{fontSize:17},heading:{fontSize:18,fontWeight:"bold",color:"#ffffff"},iconStyle:{verticalAlign:"middle",display:"inline-flex",marginRight:8}});var st=Object(R.b)((function(e){return{data:e.reportReducer.data,isAuthenticated:e.loginReducer.isAuthenticated,role:e.loginReducer.role}}))((function(e){var t=ct(),a=e.data,i=e.dispatch,r=e.isAuthenticated,c=e.role;return Object(n.useEffect)((function(){i(it(rt()));setInterval((function(){return i(it(rt()))}),3e5)}),[]),r?"power user"===c?Object(v.jsx)(N.a,{to:"/inventory"}):"admin"!==c&&"monitor"!==c?Object(v.jsx)(N.a,{to:"/notAllowed"}):Object(v.jsxs)("div",{style:{display:"flex"},children:[Object(v.jsx)(_e,{}),0===a.length?Object(v.jsxs)("div",{style:{width:"100%",textAlign:"center",marginTop:100},children:[Object(v.jsx)("img",{src:nt}),Object(v.jsx)(h.a,{color:"secondary",children:"Oopsie! No record found"})]}):Object(v.jsx)(re.a,{component:oe.a,style:{margin:10,marginTop:80,elevation:3},maxWidth:"xl",children:Object(v.jsxs)(ae.a,{className:t.table,"aria-label":"simple table",children:[Object(v.jsx)(ce.a,{children:Object(v.jsxs)(se.a,{style:{backgroundColor:"#FE6B8B"},children:[Object(v.jsxs)(ie.a,{align:"right",className:t.heading,children:[Object(v.jsx)(Ve.a,{className:t.iconStyle}),"Date"]}),Object(v.jsxs)(ie.a,{align:"right",className:t.heading,children:[Object(v.jsx)(Ke.a,{className:t.iconStyle}),"Drawing Number"]}),Object(v.jsxs)(ie.a,{align:"right",className:t.heading,children:[Object(v.jsx)(Ze.a,{className:t.iconStyle}),"Inspector"]}),Object(v.jsxs)(ie.a,{align:"right",className:t.heading,children:[Object(v.jsx)(at.a,{className:t.iconStyle}),"Quantity"]}),Object(v.jsxs)(ie.a,{align:"right",className:t.heading,children:[Object(v.jsx)(et.a,{className:t.iconStyle}),"Status"]})]})}),Object(v.jsx)(ne.a,{children:a.map((function(e,a){return Object(v.jsxs)(se.a,{children:[Object(v.jsx)(ie.a,{className:t.data,align:"right",children:e.date}),Object(v.jsx)(ie.a,{className:t.data,align:"right",children:e.drawing}),Object(v.jsx)(ie.a,{className:t.data,align:"right",children:e.inspector}),Object(v.jsx)(ie.a,{className:t.data,align:"right",children:e.quantity}),"ACCEPTED"===e.status&&Object(v.jsxs)(ie.a,{align:"right",style:{color:"green",fontWeight:"bold",fontSize:16},children:["   ",Object(v.jsx)(Fe.a,{icon:Object(v.jsx)(qe.a,{style:{color:"white"}}),label:"ACCEPTED",style:{backgroundColor:"#32CD32",color:"white"}})]}),"REJECTED"===e.status&&Object(v.jsxs)(ie.a,{align:"right",style:{color:"green",fontWeight:"bold",fontSize:16},children:["   ",Object(v.jsx)(Fe.a,{icon:Object(v.jsx)(Ye.a,{style:{color:"white"}}),label:"REJECTED",color:"secondary",style:{backgroundColor:"#DC143C",color:"white",minWidth:120}})]}),"          ","PENDING"===e.status&&Object(v.jsxs)(ie.a,{align:"right",style:{color:"green",fontWeight:"bold",fontSize:16},children:["   ",Object(v.jsx)(Fe.a,{icon:Object(v.jsx)(Je.a,{style:{color:"white"}}),label:"PENDING",color:"grey",style:{backgroundColor:"#a9a9a9",color:"white",minWidth:120}})]})]},a)}))})]})})]}):Object(v.jsx)(N.a,{to:"/login"})})),ot=a(819),lt=a(816),dt=a(792),jt=a(805),ut=a.p+"static/media/characterOne.6eb00741.png",bt=function(e){return{type:F,success:e}},ht=a(639);function mt(){return Object(v.jsxs)(h.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(v.jsx)(j.a,{href:"/privacy",color:"inherit",children:"Gatisheel"})," "," ",(new Date).getFullYear(),"."]})}var Ot=Object(m.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{marginTop:e.spacing(8),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2),padding:7,fontSize:17},errorMsg:{color:"red",fontSize:"14px",marginTop:"20px"}}}));var gt=Object(R.b)((function(e){return{success:e.addNewRoleReducer.success,isAuthenticated:e.loginReducer.isAuthenticated,Role:e.loginReducer.role}}))((function(e){var t=Ot(),a=Object(n.useState)(""),i=Object(s.a)(a,2),r=i[0],c=i[1],j=Object(n.useState)(""),u=Object(s.a)(j,2),m=u[0],g=u[1],p=Object(n.useState)(""),x=Object(s.a)(p,2),f=x[0],y=x[1],w=Object(n.useState)(""),S=Object(s.a)(w,2),C=S[0],R=S[1],A=Object(n.useState)(""),D=Object(s.a)(A,2),T=D[0],I=D[1],W=Object(n.useState)("success"),L=Object(s.a)(W,2),P=L[0],z=L[1],B=e.success,_=e.dispatch,F=e.isAuthenticated,M=e.Role,q=function(e,t){e.preventDefault();var a=e.target.value;"email"===t?g(a):"contact"===t?y(a):"name"===t?c(a):"role"===t&&R(a)},G=function(e){if(e.preventDefault(),!function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}(m))return I("Please enter a valid email address"),void z("error");var t=ht.generate({length:8,numbers:!0});_(function(e,t,a,n,i){return function(r){try{E.auth().createUserWithEmailAndPassword(t,a).then((function(){var a=t.replace(".",",");E.database().ref().child("".concat(i,"/").concat(a)).set({name:e,reg_id:t,phn:n}),E.auth().sendPasswordResetEmail(t)})),r(bt(!0))}catch(c){r(bt(!1)),console.log("Some unknown error occurred in adding new role",c)}}}(r,m,t,f,C)),B?(c(""),y(""),R(""),g(""),I("Employee registered successfully!"),z("success")):(I("Some unknown error occurred"),z("error"))};return F?"admin"!==M?Object(v.jsx)(N.a,{to:"/notAllowed"}):(""!==T&&setTimeout((function(){return I("")}),5e3),Object(v.jsxs)("div",{style:{display:"flex"},children:[Object(v.jsx)(l.a,{}),Object(v.jsx)(_e,{}),Object(v.jsxs)(O.a,{component:"main",maxWidth:"xs",children:[Object(v.jsxs)("div",{className:t.paper,children:[Object(v.jsx)("img",{src:ut}),Object(v.jsx)(h.a,{component:"h1",variant:"h5",style:{marginTop:10},children:"Add New Role"}),""!==T&&Object(v.jsx)(k.a,{severity:P,children:T}),Object(v.jsxs)("form",{className:t.form,children:[Object(v.jsx)(d.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Name",autoFocus:!0,value:r,onChange:function(e){return q(e,"name")}}),Object(v.jsx)(d.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,value:m,label:"Email Address",onChange:function(e){return q(e,"email")}}),Object(v.jsx)(d.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Contact",value:f,onChange:function(e){return q(e,"contact")}}),Object(v.jsxs)(dt.a,{variant:"outlined",fullWidth:!0,margin:"normal",children:[Object(v.jsx)(ot.a,{id:"demo-simple-select-outlined-label",children:"Role"}),Object(v.jsxs)(lt.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:C,onChange:function(e){return q(e,"role")},label:"Role",required:!0,fullWidth:!0,children:[Object(v.jsx)(jt.a,{value:"admin",children:"Admin"}),Object(v.jsx)(jt.a,{value:"inspector",children:"Inspector"}),Object(v.jsx)(jt.a,{value:"custodian",children:"Initiator"}),Object(v.jsx)(jt.a,{value:"monitor",children:"Monitor"}),Object(v.jsx)(jt.a,{value:"power_user",children:"Power User"})]})]}),Object(v.jsx)(o.a,{type:"submit",fullWidth:!0,variant:"contained",color:"secondary",className:t.submit,onClick:function(e){return G(e)},children:"Register"})]})]}),Object(v.jsx)(b.a,{mt:8,children:Object(v.jsx)(mt,{})})]})]})):Object(v.jsx)(N.a,{to:"/login"})})),pt=a.p+"static/media/characterThree.27c0ee5e.png",xt=function(){return function(e){var t={};E.database().ref().child("inspector").once("value",(function(e){var a=e.val();null!==a&&Object.keys(a).map((function(e){t[a[e].name]=a[e].phn,t.i_token=a[e].i_token}))})).then((function(){return e(function(e){return{type:G,payload:e}}(t))}))}},ft=function(e,t,a,n,i){return function(r){var c=E.database().ref(),s=new Date,o=s.getHours()+":"+s.getMinutes(),l=String(s.getDate()).padStart(2,"0"),d=String(s.getMonth()+1).padStart(2,"0"),j=s.getFullYear();s=l+"-"+d+"-"+j,c.child("item/".concat(e)).set({drawing_no:e,phone:a,status:"TO BE CALL",quantity:n,date:s,time:o,inspector_name:t,quantity_inspected:0,i_token:i}).then((function(){return r({type:M})}))}};function yt(){return Object(v.jsxs)(h.a,{variant:"body2",color:"textSecondary",align:"center",children:["Gatisheel \xa9 ",Object(v.jsx)(j.a,{href:"/privacy",color:"inherit",children:"Gatisheel"})," ",(new Date).getFullYear(),"."]})}var vt=Object(m.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{marginTop:e.spacing(8),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2),padding:7,fontSize:17},errorMsg:{color:"red",fontSize:"14px",marginTop:"20px"}}}));var wt=Object(R.b)((function(e){return{inspectors:e.drawingReducer.inspector,success:e.drawingReducer.success,isAuthenticated:e.loginReducer.isAuthenticated,role:e.loginReducer.role}}))((function(e){var t=vt(),a=Object(n.useState)(""),i=Object(s.a)(a,2),r=i[0],c=i[1],j=Object(n.useState)(""),u=Object(s.a)(j,2),m=u[0],g=u[1],p=Object(n.useState)(""),x=Object(s.a)(p,2),f=x[0],y=x[1],w=Object(n.useState)("Pending"),S=Object(s.a)(w,2),C=(S[0],S[1]),R=Object(n.useState)(""),A=Object(s.a)(R,2),E=A[0],D=A[1],T=Object(n.useState)(""),I=Object(s.a)(T,2),W=I[0],L=I[1],P=e.inspectors,z=e.dispatch,B=e.success,_=e.isAuthenticated,F=e.role,M=function(e,t){e.preventDefault();var a=e.target.value;"drawing"===t?c(a):"inspector"===t?g(a):"status"===t?C(a):"quantity"===t&&y(a)};return Object(n.useEffect)((function(){z(xt())}),[]),setTimeout((function(){""!==E&&D("")}),5e3),_?"admin"!==F?Object(v.jsx)(N.a,{to:"/notAllowed"}):Object(v.jsxs)("div",{style:{display:"flex"},children:[Object(v.jsx)(l.a,{}),Object(v.jsx)(_e,{}),Object(v.jsxs)(O.a,{component:"main",maxWidth:"xs",children:[Object(v.jsxs)("div",{className:t.paper,children:[Object(v.jsx)("img",{src:pt,class:t.imgStyle}),Object(v.jsx)(h.a,{component:"h1",variant:"h5",style:{marginTop:10},children:"Add Drawing"}),""!==E?Object(v.jsx)(k.a,{severity:W,children:E}):Object(v.jsx)("div",{}),Object(v.jsxs)("form",{className:t.form,children:[Object(v.jsx)(d.a,{variant:"outlined",margin:"normal",required:!0,value:r,fullWidth:!0,label:"Drawing Number",autoFocus:!0,onChange:function(e){return M(e,"drawing")}}),Object(v.jsxs)(dt.a,{variant:"outlined",margin:"normal",fullWidth:!0,children:[Object(v.jsx)(ot.a,{id:"demo-simple-select-outlined-label",margin:"normal",children:"Inspector"}),Object(v.jsx)(lt.a,{labelId:"demo-simple-select-label",id:"demo-simple-select-outlined",value:m,label:"Inspector",fullWidth:!0,onChange:function(e){return M(e,"inspector")},children:Object.keys(P).map((function(e){if("i_token"!==e)return Object(v.jsx)(jt.a,{value:e,children:e})}))})]}),Object(v.jsx)(d.a,{variant:"outlined",margin:"normal",required:!0,value:f,fullWidth:!0,label:"Quantity",type:"number",onChange:function(e){return M(e,"quantity")}}),Object(v.jsx)(o.a,{type:"submit",fullWidth:!0,color:"secondary",variant:"contained",className:t.submit,onClick:function(e){return function(e){if(e.preventDefault(),""===r||""===m||""===f)return D("Please enter valid details"),void L("error");z(ft(r,m,P[m],f,P.i_token)),setTimeout((function(){B?(c(""),y(""),g(""),D("Drawing number added successfully"),L("success")):(D("Please enter correct details"),L("error"))}),1e3)}(e)},children:"Save"})]})]}),Object(v.jsx)(b.a,{mt:6,children:Object(v.jsx)(yt,{})})]})]}):Object(v.jsx)(N.a,{to:"/login"})})),St=a(270),Ct=(a(736),a(407)),kt=a.n(Ct),Nt=a.p+"static/media/citylandscape.291f2000.png",Rt=a(276),At=a.n(Rt),Et=a(406),Dt=a.n(Et),Tt=Object(m.a)({table:{minWidth:650},data:{fontSize:17},heading:{fontSize:18,fontWeight:"bold",color:"#ffffff"},iconStyle:{verticalAlign:"middle",display:"inline-flex",marginRight:8},formControl:{margin:30,minWidth:120},inputDiv:{marginTop:60,textAlign:"center"},submit:{marginTop:10}});var It,Wt=Object(R.b)((function(e){return{isAuthenticated:e.loginReducer.isAuthenticated,role:e.loginReducer.role}}))((function(e){var t,a=Tt(),i=Object(n.useState)([]),r=Object(s.a)(i,2),c=r[0],l=r[1],d=Object(n.useState)(2021),j=Object(s.a)(d,2),b=j[0],m=j[1],O=Object(n.useState)(1),p=Object(s.a)(O,2),x=p[0],f=p[1],y=Object(n.useState)([]),w=Object(s.a)(y,2),S=(w[0],w[1]),C=Object(n.useState)(),k=Object(s.a)(C,2),R=k[0],A=k[1],D=Object(n.useState)([]),T=Object(s.a)(D,2),I=T[0],W=T[1],L=Object(n.useState)([]),P=Object(s.a)(L,2),z=P[0],B=P[1],_=Object(n.useState)([]),F=Object(s.a)(_,2),M=F[0],q=F[1],G=e.isAuthenticated,Y=e.role,Q=(Object(N.g)(),[{name:"Quantity",data:M}]),J=(t={chart:{type:"area",height:"auto",zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{curve:"smooth"},title:{text:"Quantity incoming",align:"center"},subtitle:{text:"Quantity Movements",align:"left"},labels:R,yaxis:{opposite:!1},legend:{horizontalAlign:"left"}},Object(g.a)(t,"title",{text:"Quantity incoming",align:"center"}),Object(g.a)(t,"subtitle",{text:"Quantity Movements",align:"left"}),Object(g.a)(t,"colors",["#ff0000"]),t),U=[{name:"Accepted",data:I},{name:"Rejected",data:z}],Z={chart:{height:"auto",type:"area",zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{curve:"smooth"},xaxis:{type:"date",categories:R},title:{text:"Status",align:"center"},legend:{horizontalAlign:"center"},colors:["#00ff00","#ff0000"]},H=function(e,t){var a=e.target.value;"month"===t?f(a):"year"===t&&m(a)};return G?"admin"!==Y&&"monitor"!==Y?Object(v.jsx)(N.a,{to:"/notAllowed"}):Object(v.jsxs)("div",{style:{display:"flex"},children:[Object(v.jsx)(_e,{}),Object(v.jsxs)("div",{style:{width:"100%",marginRight:20},children:[Object(v.jsxs)("div",{className:a.inputDiv,children:[Object(v.jsxs)(dt.a,{className:a.formControl,children:[Object(v.jsx)(ot.a,{id:"demo-simple-select-label",children:"Year"}),Object(v.jsxs)(lt.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:b,onChange:function(e){return H(e,"year")},children:[Object(v.jsx)(jt.a,{value:2021,children:"2021"}),Object(v.jsx)(jt.a,{value:2020,children:"2020"}),Object(v.jsx)(jt.a,{value:2019,children:"2019"}),Object(v.jsx)(jt.a,{value:2018,children:"2018"}),Object(v.jsx)(jt.a,{value:2017,children:"2017"})]})]}),Object(v.jsxs)(dt.a,{className:a.formControl,children:[Object(v.jsx)(ot.a,{id:"demo-simple-select-label",children:"Month"}),Object(v.jsxs)(lt.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:x,onChange:function(e){return H(e,"month")},children:[Object(v.jsx)(jt.a,{value:1,children:"January"}),Object(v.jsx)(jt.a,{value:2,children:"February"}),Object(v.jsx)(jt.a,{value:3,children:"March"}),Object(v.jsx)(jt.a,{value:4,children:"April"}),Object(v.jsx)(jt.a,{value:5,children:"May"}),Object(v.jsx)(jt.a,{value:6,children:"June"}),Object(v.jsx)(jt.a,{value:7,children:"July"}),Object(v.jsx)(jt.a,{value:8,children:"August"}),Object(v.jsx)(jt.a,{value:9,children:"September"}),Object(v.jsx)(jt.a,{value:10,children:"October"}),Object(v.jsx)(jt.a,{value:11,children:"November"}),Object(v.jsx)(jt.a,{value:12,children:"December"})]})]}),Object(v.jsx)(dt.a,{className:a.formControl,children:Object(v.jsx)(o.a,{type:"submit",fullWidth:!0,color:"secondary",variant:"outlined",className:a.submit,startIcon:Object(v.jsx)(Dt.a,{}),onClick:function(e){E.database().ref().child("report/".concat(b,"/").concat(x)).once("value",(function(e){var t=e.val(),a=[],n={},i={},r={},c=new Set;if(null!==t){Object.keys(t).map((function(e){var s=t[e],o={date:s.date,inspector:s.inspector,drawing:s.drawing,quantity:s.quantity,status:s.status},l=s.quantity;a.push(o),c.add(s.date),r[s.date]?r[s.date]=r[s.date]+l:r[s.date]=l,"ACCEPTED"===o.status?n[s.date]?n[s.date]=n[s.date]+1:n[s.date]=1:"REJECTED"===o.status&&(i[s.date]?i[s.date]=i[s.date]+1:i[s.date]=1)})),l([]),l(a),a.map((function(e){var t=e.date;return t.split("-")[0]}));var s=a.map((function(e){return e.quantity}));S(s),a=[];var o=[],d=[],j=[],u=[];c.forEach((function(e){o.push(n[e]||0),d.push(i[e]||0),u.push(r[e]);var t=e.split("-")[0];"0"===t[0]&&(t=t[1]),j.push(t)})),W(o),B(d),A(j),q(u),o=[],d=[],j=[],u=[]}else l([])}))},children:"Search"})})]}),0===c.length?Object(v.jsxs)("div",{style:{width:"100%",textAlign:"center",marginTop:100},children:[Object(v.jsx)("img",{src:Nt}),Object(v.jsx)(h.a,{color:"secondary",children:"No report found!"})]}):Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{style:{width:"100%",marginTop:30},children:Object(v.jsxs)(u.a,{container:!0,spacing:5,justify:"center",children:[Object(v.jsx)(oe.a,{elevation:4,style:{marginRight:20,marginBottom:30},children:Object(v.jsx)(u.a,{item:!0,xs:12,children:Object(v.jsx)(At.a,{options:J,series:Q,type:"area",width:450,height:300})})}),Object(v.jsx)(oe.a,{elevation:4,style:{marginBottom:30},children:Object(v.jsx)(u.a,{item:!0,xs:12,children:Object(v.jsx)(At.a,{options:Z,series:U,type:"area",width:450,height:300})})})]})}),Object(v.jsx)("div",{style:{textAlign:"center",marginTop:20},children:Object(v.jsx)(o.a,{type:"submit",color:"secondary",variant:"outlined",onClick:function(){return function(){var e=new St.default("portrait","pt","A4");e.setFontSize(15);var t="".concat(x,"-").concat(b," report"),a={startY:50,head:[["Date","Drawing Number","Inspector","Quantity","Status"]],body:c.map((function(e){return[e.date,e.drawing,e.inspector,e.quantity,e.status]}))};e.text(t,40,40),e.autoTable(a),e.save("".concat(x,"_").concat(b,"_report.pdf"))}()},className:a.submit,style:{minWidth:200},startIcon:Object(v.jsx)(kt.a,{}),children:"Export PDF"})}),Object(v.jsx)("div",{children:Object(v.jsx)(re.a,{component:oe.a,style:Object(g.a)({margin:10,marginTop:20,elevation:3},"marginTop",30),maxWidth:"xl",children:Object(v.jsxs)(ae.a,{className:a.table,"aria-label":"simple table",children:[Object(v.jsx)(ce.a,{children:Object(v.jsxs)(se.a,{style:{backgroundColor:"#FE6B8B"},children:[Object(v.jsxs)(ie.a,{align:"right",className:a.heading,children:[Object(v.jsx)(Ve.a,{className:a.iconStyle}),"Date"]}),Object(v.jsxs)(ie.a,{align:"right",className:a.heading,children:[Object(v.jsx)(Ke.a,{className:a.iconStyle}),"Drawing Number"]}),Object(v.jsxs)(ie.a,{align:"right",className:a.heading,children:[Object(v.jsx)(Ze.a,{className:a.iconStyle}),"Inspector"]}),Object(v.jsxs)(ie.a,{align:"right",className:a.heading,children:[Object(v.jsx)(at.a,{className:a.iconStyle}),"Quantity"]}),Object(v.jsxs)(ie.a,{align:"right",className:a.heading,children:[Object(v.jsx)(et.a,{className:a.iconStyle}),"Status"]})]})}),Object(v.jsx)(ne.a,{children:c&&c.map((function(e){return Object(v.jsxs)(se.a,{children:[Object(v.jsx)(ie.a,{className:a.data,align:"right",children:e.date}),Object(v.jsx)(ie.a,{className:a.data,align:"right",children:e.drawing}),Object(v.jsx)(ie.a,{className:a.data,align:"right",children:e.inspector}),Object(v.jsx)(ie.a,{className:a.data,align:"right",children:e.quantity}),"ACCEPTED"===e.status&&Object(v.jsxs)(ie.a,{align:"right",style:{color:"green",fontWeight:"bold",fontSize:16},children:["   ",Object(v.jsx)(Fe.a,{icon:Object(v.jsx)(qe.a,{style:{color:"white"}}),label:"ACCEPTED",style:{backgroundColor:"#32CD32",color:"white"}})]}),"REJECTED"===e.status&&Object(v.jsxs)(ie.a,{align:"right",style:{color:"green",fontWeight:"bold",fontSize:16},children:["   ",Object(v.jsx)(Fe.a,{icon:Object(v.jsx)(Ye.a,{style:{color:"white"}}),label:"REJECTED",color:"secondary",style:{backgroundColor:"#DC143C",color:"white",minWidth:120}})]})]},e.drawing)}))})]})})})]})]})]}):Object(v.jsx)(N.a,{to:"/login"})})),Lt=a(123),Pt=a.p+"static/media/characterSix.2393d255.png",zt=a(806),Bt=a(408),_t=a.n(Bt),Ft=a(807),Mt=a(810),qt=a(809),Gt=a(808),Yt=Object(m.a)((It={formControl:{margin:30,minWidth:120},inputDiv:{marginTop:60,textAlign:"center",width:"100%"},form:{width:"100%"},paper:{marginTop:10,display:"flex",flexDirection:"column",alignItems:"center"}},Object(g.a)(It,"formControl",{margin:30,minWidth:120}),Object(g.a)(It,"submit",{marginTop:30,padding:7,fontSize:17}),Object(g.a)(It,"root",{"& > *":{margin:5}}),Object(g.a)(It,"extendedIcon",{marginRight:5}),Object(g.a)(It,"addBtn",{margin:0,top:"auto",right:20,bottom:20,left:"auto",position:"fixed"}),It));var Qt=Object(R.b)((function(e){return{isAuthenticated:e.loginReducer.isAuthenticated,role:e.loginReducer.role}}))((function(e){var t=Yt(),a=Object(n.useState)(),i=Object(s.a)(a,2),r=i[0],c=i[1],b=Object(n.useState)({}),m=Object(s.a)(b,2),p=m[0],x=m[1],f=Object(n.useState)([]),y=Object(s.a)(f,2),w=y[0],S=y[1],C=Object(n.useState)(""),R=Object(s.a)(C,2),A=R[0],D=R[1],T=Object(n.useState)(!1),I=Object(s.a)(T,2),W=I[0],L=I[1],P=Object(n.useState)([{parameter:"",value:"null"}]),z=Object(s.a)(P,2),B=z[0],_=z[1],F=Object(n.useState)(""),M=Object(s.a)(F,2),q=M[0],G=M[1],Y=Object(n.useState)(""),Q=Object(s.a)(Y,2),J=Q[0],U=Q[1],Z=Object(n.useState)(),H=Object(s.a)(Z,2),V=H[0],$=H[1],K=e.isAuthenticated,X=e.role,ee=Object(n.useState)(0),te=Object(s.a)(ee,2),ae=(te[0],te[1]),ne=Object(n.useState)([{parameter:"",value:"null"}]),ie=Object(s.a)(ne,2),re=ie[0],ce=ie[1],se=Object(n.useState)(!1),oe=Object(s.a)(se,2),le=oe[0],de=oe[1],je=function(){de(!0)},ue=function(){L(!1)},be=function(e,t){var a=r;a[A][t]=e.target.value,c(a),ae(Math.random(1e5))};return Object(n.useEffect)((function(){E.database().ref().child("inventory").on("value",(function(e){var t=e.val();c(t);var a={},n={},i=[];Object.keys(t).map((function(e){var r=[];Object.keys(t[e]).map((function(e){r.push(e)})),a[e]=r,i.push(e),n[e]=a})),S(i),x(a)}))}),[]),K?"admin"!==X&&"power user"!==X?Object(v.jsx)(N.a,{to:"/notAllowed"}):(""!==J&&setTimeout((function(){return U("")}),5e3),Object(v.jsxs)("div",{style:{display:"flex"},children:[Object(v.jsx)(l.a,{}),Object(v.jsx)(_e,{}),Object(v.jsx)(zt.a,{className:t.addBtn,color:"secondary","aria-label":"add",onClick:function(){L(!0)},children:Object(v.jsx)(_t.a,{})}),Object(v.jsxs)(Ft.a,{open:W,onClose:ue,"aria-labelledby":"form-dialog-title",children:[Object(v.jsx)(Gt.a,{id:"form-dialog-title",style:{minWidth:500},children:"Add Material"}),""!==J?Object(v.jsx)(k.a,{severity:V,children:J}):Object(v.jsx)("div",{}),Object(v.jsxs)(qt.a,{children:[Object(v.jsx)(d.a,{autoFocus:!0,margin:"normal",variant:"outlined",id:"name",label:"Material",value:q,fullWidth:!0,onChange:function(e){return G(e.target.value)}}),B&&B.map((function(e,t){var a,n;return Object(v.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(v.jsx)(d.a,{margin:"normal",variant:"outlined",label:"Parameter",value:be[t],fullWidth:!0,onChange:function(e){return function(e,t){var a=Object(Lt.a)(B);a[e].parameter=t.target.value,_(a)}(t,e)},style:{marginRight:10}}),Object(v.jsx)(o.a,(a={onClick:function(){return function(){var e=Object(Lt.a)(B);e.push({parameter:"",value:"null"}),_(e)}()},margin:"dense",raised:!0,color:"primary",variant:"outlined"},Object(g.a)(a,"color","secondary"),Object(g.a)(a,"style",{marginTop:15,marginBottom:10,marginRight:5,fontSize:20}),Object(g.a)(a,"children","+"),a)),Object(v.jsx)(o.a,(n={onClick:function(){return function(e){var t=Object(Lt.a)(B);1!==t.length&&(t.splice(e,1),_(t))}(t)},color:"primary",variant:"outlined"},Object(g.a)(n,"color","secondary"),Object(g.a)(n,"style",{marginTop:15,marginBottom:10,fontSize:25}),Object(g.a)(n,"children","-"),n))]})}))]}),Object(v.jsxs)(Mt.a,{children:[Object(v.jsx)(o.a,{onClick:ue,color:"primary",children:"Cancel"}),Object(v.jsx)(o.a,{onClick:function(){if(""===q)return U("Please enter valid material name"),void $("error");var e={};B.map((function(t,a){e[t.parameter]=t.value}));try{E.database().ref().child("inventory/".concat(q)).set(e),U("Material added to inventory successfully!"),$("success")}catch(t){$("error"),U("Something went wrong. Please check if all the details are valid!")}finally{ue()}},color:"secondary",children:"Save"})]})]}),Object(v.jsxs)(Ft.a,{open:le,onClose:je,"aria-labelledby":"form-dialog-title",children:[Object(v.jsx)(Gt.a,{id:"form-dialog-title",style:{minWidth:500},children:A}),""!==J?Object(v.jsx)(k.a,{severity:V,children:J}):Object(v.jsx)("div",{}),Object(v.jsxs)(qt.a,{children:[""!==A&&void 0!==p[A]&&p[A].map((function(e,t){if(""!==e)return Object(v.jsxs)("div",{style:{display:"flex"},children:[Object(v.jsx)(jt.a,{style:{float:"left"},value:e,children:e}),Object(v.jsx)(o.a,{type:"submit",onClick:function(){return function(e){var t=p,a=[];t[A].map((function(t){t!==e&&a.push(t)})),t[A]=a,x(t),ae(Math.random(1e4))}(e)},style:{float:"left"},color:"secondary",children:"Remove"})]})})),re&&re.map((function(e,t){var a,n;return Object(v.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(v.jsx)(d.a,{margin:"normal",variant:"outlined",label:"Parameter",fullWidth:!0,onChange:function(e){return function(e,t){var a=re;a[e].parameter=t.target.value,ce(a)}(t,e)},style:{marginRight:10}}),Object(v.jsx)(o.a,(a={onClick:function(){return function(){var e=Object(Lt.a)(re);e.push({parameter:"",value:"null"}),ce(e)}()},margin:"dense",raised:!0,color:"primary",variant:"outlined"},Object(g.a)(a,"color","secondary"),Object(g.a)(a,"style",{marginTop:15,marginBottom:10,marginRight:5,fontSize:20}),Object(g.a)(a,"children","+"),a)),Object(v.jsx)(o.a,(n={onClick:function(){return function(e){var t=Object(Lt.a)(re);1!=t.length&&(t.splice(e,1),ce(t))}(t)},color:"primary",variant:"outlined"},Object(g.a)(n,"color","secondary"),Object(g.a)(n,"style",{marginTop:15,marginBottom:10,fontSize:25}),Object(g.a)(n,"children","-"),n))]})}))]}),Object(v.jsxs)(Mt.a,{children:[Object(v.jsx)(o.a,{onClick:function(){de(!1)},color:"primary",children:"Cancel"}),Object(v.jsx)(o.a,{onClick:function(){var e=p;Object.keys(re).map((function(t){""!==re[t]&&e[A].push(re[t].parameter)})),x(e);var t={};p[A].map((function(e){""!==e&&(t[e]=r[A][e]||"null")}));try{E.database().ref().child("inventory/".concat(A)).set(t),U("Parameters updated succesfully"),$("success")}catch(a){U("Something went wrong!"),$("error")}ce([{parameter:"",value:"null"}])},color:"secondary",children:"Save"})]})]}),Object(v.jsx)("div",{className:t.inputDiv,children:Object(v.jsx)(O.a,{component:"main",maxWidth:"xs",children:Object(v.jsxs)("div",{className:t.paper,children:[Object(v.jsx)("img",{src:Pt,class:t.imgStyle}),Object(v.jsx)(h.a,{component:"h1",variant:"h5",style:{marginTop:10},children:"Inventory"}),""!==J?Object(v.jsx)(k.a,{severity:V,children:J}):Object(v.jsx)("div",{}),Object(v.jsxs)("form",{className:t.form,style:{marginTop:25},children:[Object(v.jsxs)(dt.a,{variant:"outlined",margin:"normal",fullWidth:!0,children:[Object(v.jsx)(ot.a,{id:"demo-simple-select-outlined-label",margin:"normal",children:"Select Material"}),Object(v.jsx)(lt.a,{labelId:"demo-simple-select-label",id:"demo-simple-select-outlined",value:A,label:"Select Material",fullWidth:!0,onChange:function(e){return D(e.target.value)},children:w&&w.map((function(e){return Object(v.jsx)(jt.a,{value:e,children:e})}))})]}),""!==A&&p[A]&&p[A].map((function(e){return Object(v.jsx)(d.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:e,autoFocus:!0,value:r[A][e],onChange:function(t){return be(t,e)}})})),""!==A&&Object(v.jsx)(o.a,{type:"submit",fullWidth:!0,color:"secondary",variant:"contained",className:t.submit,onClick:function(e){return function(e){e.preventDefault();var t=E.database().ref(),a=r[A];try{t.child("inventory/".concat(A)).set(a),U("Data values updated sucessfully!")}catch(n){U("Unable to update data values!")}}(e)},children:"Submit"}),""!==A&&Object(v.jsx)(u.a,{container:!0,style:{marginTop:10},children:Object(v.jsx)(u.a,{item:!0,children:Object(v.jsx)(j.a,{onClick:je,variant:"body2",color:"secondary",children:"Update?"})})})]})]})})})]})):Object(v.jsx)(N.a,{to:"/login"})})),Jt=a(811),Ut=a(812),Zt=a(813),Ht=a(814),Vt=a(189);function $t(){var e=E.database().ref();return function(t){var a=[];e.child("admin").once("value",(function(e){var t=e.val();Object.keys(t).map((function(e){var n=t[e];a.push({name:n.name,email:n.reg_id,contact:n.phn,role:"Admin"})}))})),e.child("inspector").once("value",(function(e){var t=e.val();Object.keys(t).map((function(e){var n=t[e];a.push({name:n.name,email:n.reg_id,contact:n.phn,role:"Inspector"})}))})),e.child("custodian").once("value",(function(e){var t=e.val();Object.keys(t).map((function(e){var n=t[e];a.push({name:n.name,email:n.reg_id,contact:n.phn,role:"Custodian"})}))})).then((function(){return t(function(e){return{type:I,payload:e}}(a))}))}}var Kt=Object(m.a)((function(e){return{gridList:{width:"100%",height:"100%"},avatar:{backgroundColor:Vt.a[500]},root:{minWidth:250,marginTop:80,maxWidth:475,marginRight:50,marginLeft:20,height:"auto"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:16},pos:{marginBottom:12}}}));var Xt=Object(R.b)((function(e){return{employees:e,isAuthenticated:e.loginReducer.isAuthenticated}}),(function(e){return e($t()),{}}))((function(e){var t=Kt();return e.isAuthenticated?Object(v.jsxs)("div",{style:{display:"flex"},children:[Object(v.jsx)(_e,{}),Object(v.jsx)("div",{style:{width:"100%",overflow:"hidden"},children:Object(v.jsx)(Jt.a,{cols:3,style:{paddingBottom:50},children:e.employees.employeeReducer.map((function(e){return Object(v.jsxs)(Ut.a,{className:t.root,elevation:2,children:[Object(v.jsx)(Zt.a,{title:e.name,subheader:e.role}),Object(v.jsxs)(Ht.a,{children:[Object(v.jsxs)(h.a,{className:t.title,gutterBottom:!0,children:["Email: ",e.email]}),Object(v.jsxs)(h.a,{className:t.title,gutterBottom:!0,children:["Phone: ",e.contact]})]})]})}))})})]}):Object(v.jsx)(N.a,{to:"/login"})})),ea=Object(R.b)((function(e){return{isAuthenticated:e.loginReducer.isAuthenticated,role:e.loginReducer.role}}))((function(e){var t=e.isAuthenticated,a=e.dispatch,n=e.role;return Object(v.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(v.jsx)(S,{}),Object(v.jsxs)("div",{style:{textAlign:"center"},children:[Object(v.jsx)("h2",{style:{marginTop:100,textAlign:"center"},children:"You do not have permission to view this page"}),Object(v.jsx)("h2",{style:{marginTop:100,textAlign:"center"},children:n}),t?Object(v.jsx)(o.a,{onClick:function(e){a(Q())},color:"secondary",children:"Logout"}):Object(v.jsx)(j.a,{href:"/login",children:Object(v.jsx)(o.a,{onClick:function(){return Object(v.jsx)(N.a,{to:"/login"})},color:"secondary",children:"Login"})})]})]})})),ta=function(){var e;return Object(v.jsxs)("div",{style:{display:"flex",marginLeft:50,marginRight:50},children:[Object(v.jsx)(S,{}),Object(v.jsx)("h2",(e={style:{marginTop:100},align:"center"},Object(g.a)(e,"align","center"),Object(g.a)(e,"children"," Gatisheel is a propietary application reserved only for authenticated users. Gatisheel only ask for permission of reading local storage and sending sms from the mobile device. It do not ask neither store any sensitive information of the user"),e))]})},aa=a(63),na=a(73),ia=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return t.payload;default:return e}},ra={isLoggingIn:!1,isLoggingOut:!1,isVerifying:!1,loginError:!1,logoutError:!1,isAuthenticated:!1,linkSent:!1,user:{},role:"",logoutSuccess:!1},ca=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ra,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:return Object(p.a)(Object(p.a)({},e),{},{isLoggingIn:!0,loginError:!1});case L:return Object(p.a)(Object(p.a)({},e),{},{isLoggingIn:!1,isAuthenticated:!0,user:t.user,loginError:!1});case P:return Object(p.a)(Object(p.a)({},e),{},{isLoggingIn:!1,isAuthenticated:!1,loginError:!0});case z:return Object(p.a)(Object(p.a)({},e),{},{linkSent:!0});case _:return Object(p.a)(Object(p.a)({},e),{},{role:t.role});case B:return Object(p.a)(Object(p.a)({},e),{},{logoutSuccess:!0,isAuthenticated:!1,user:{},role:""});default:return e}},sa={success:!1},oa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return Object(p.a)(Object(p.a)({},e),{},{success:t.message});default:return e}},la={data:[]},da=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:la,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:return Object(p.a)(Object(p.a)({},e),{},{data:t.payload});default:return e}},ja={inspector:[],success:!1},ua=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ja,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return Object(p.a)(Object(p.a)({},e),{},{inspector:t.payload});case M:return Object(p.a)(Object(p.a)({},e),{},{success:!0});default:return e}},ba=Object(na.b)({employeeReducer:ia,loginReducer:ca,addNewRoleReducer:oa,reportReducer:da,drawingReducer:ua}),ha=a(409),ma=a(277),Oa={key:"root",storage:T.a},ga=Object(ma.a)(Oa,ba),pa=function(){var e=Object(na.c)(ga,Object(na.a)(ha.a));return{store:e,persistor:Object(ma.b)(e)}},xa=a(410),fa=pa(),ya=fa.store,va=fa.persistor;c.a.render(Object(v.jsx)(R.a,{store:ya,children:Object(v.jsx)(xa.a,{loading:null,persistor:va,children:Object(v.jsx)(aa.a,{children:Object(v.jsxs)(N.d,{children:[Object(v.jsx)(N.b,{path:"/reset",component:te}),Object(v.jsx)(N.b,{path:"/login",component:$}),Object(v.jsx)(N.b,{path:"/register",component:gt}),Object(v.jsx)(N.b,{path:"/AddDrawing",component:wt}),Object(v.jsx)(N.b,{path:"/report",component:Wt}),Object(v.jsx)(N.b,{path:"/employees",component:Xt}),Object(v.jsx)(N.b,{path:"/inventory",component:Qt}),Object(v.jsx)(N.b,{path:"/privacy",component:ta}),Object(v.jsx)(N.b,{path:"/notAllowed",component:ea}),Object(v.jsx)(N.b,{path:"/",component:st})]})})})}),document.getElementById("root"))}},[[738,1,2]]]);
//# sourceMappingURL=main.f20fc1f5.chunk.js.map